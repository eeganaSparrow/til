# nginxメモ
## nginxの概要
* 特徴
    * 大量の接続を可能にする優れたスケラービリティ
    * 後発のHTTPサーバである・・・Webサーバのこと
* 用途
    * 静的なコンテンツの配信
    * リバースプロキシとして動作し、Webアプリケーションサーバの機能を補う
* 動作原理
    * HTTPサーバで発生するイベント
        * accept：クライアントからの接続要求
        * read：リクエストの読み込み
        * write：レスポンスの返答
    * I/O処理の効率化
        * I/O Multiplexing
            * 複数のディスクリプタを監視し、入出力可能になるまで待機するシステム
            * 複数のクライアントの要求を並行して処理できるようになる
        * ノンブロッキングI/O
            * すぐに処理できないディスクリプタを中断して別のディスクリプタを実行する
            * I/O関連の処理をよく監視することでプログラムの並行性を高める
        * 非同期I/O
            * 非同期で入出力を行い、並行性を高める
    * 動作モデル
        * マスタプロセスとワーカプロセスのマルチプロセス構成
        * マスタプロセスがワーカプロセスの制御と管理を行う
        * マスタプロセスはワーカプロセスのプロセスIDを持っている

## nginxインストール
* インストール方法
    * homebrewでインストール。以下参照
    * https://github.com/denji/homebrew-nginx
* ファイルの場所
    * nginx.conf（設定ファイル）
        * /opt/homebrew/etc/nginx/nginx.conf
        * nginx -tで確認できる
    * access.log（ログファイル）
        * /opt/homebrew/var/log/nginx/access.log

## nginxの利用
* コマンド
    * nginx・・・起動
    * nginx -t ・・・confファイルの構文チェック
    * nginx -s stop ・・・停止