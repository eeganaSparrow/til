# テストについて

## 0.心得
* テスト計画では希望的観測を捨てること
* バグは偏在していることに留意すること
## 1.ホワイトボックステスト
1. 概要
    * 論理構造が正しいかを解析するテスト
    * 設計仕様の間違いは検出できない
    * 非常にコストが掛かるテスト手法
2. 制御パステスト
    * フローチャートをカバーするテスト
    * カバレッジはフローチャートの網羅率のこと
    * ステートメントカバレッジ
        * 命令を少なくとも１回は実行するテスト
        * 分岐をカバーできないので非常に弱いテスト
    * ブランチカバレッジ
        * 分岐の命令でtrueとfalseを実行し、網羅するテスト
        * すごく時間が掛かるが、部分的にでもした方がいいテスト
    * カバレッジは一般的な商用ソフトウェアで60〜90％程度
3. カバレッジテストができないコード
    * メモリを確保するときのエラー処理
    * 削除による影響がよく分からない過去のコード
4. カバレッジテストで検出できないバグ
    * ループに関するバグ
        * カバレッジ基準がない
        * テストした方がいいもの
            * ループなし
            * ループ１回
            * 妥当な回数
            * 最大ループ回数
            * 最大ループ±１回
    * 仕様の間違い
        * 機能テストで対応する
    * データに関するバグ
        * データ操作は、mutexなどの技術を使ってテストする
    * タイミングに関するバグ
        * バグがあると大きな問題になるが、対症療法的なものしかない
        * プロセスが正常に動いているか調べるとか
5. TDD（Test Driven Development）
    * フレームワークを選ぶ
    * パスしないテストを書く
    * パスするテストを書く
    * リファクタリング（コードの成型作業）
## 2.ブラックボックステスト
1. テスト対象は以下４つが基本
    * 入力
    * 出力
    * 計算
    * 保存
2. 同値分割法
    * 有効同値と無効同値に分けてテストケースを書く方法
    * テストケースは取りうる値を網羅するように選ぶ
    * 0は特殊なので、入力できるならいつもテスト対象に入る
3. 境界値分析
    * On-Offポイント法？
    * 境界値をテストケースに選ぶテスト方法
    * 同値分割と一緒に使われることが多い
4. ディシジョンテーブルテスト
    * 状態、ルール、動作を表にまとめて実行していく方法
    * 機能テストで効果が発揮される
    * 多数の入出力に対する多数の出力処理をテストできる
    * ただ、大規模なソフトウェアになると、項目が多くなるので、表を用いるのは困難になる
5. 状態遷移テスト
    * 状態が期待するように遷移するかどうかを確かめるテスト
    * モデルが複雑になるので、ツールを使ってテストする
    * 通信プロトコルテストに向いている
6. どのテスト手法を使うかの目安
    * 入力ボックス→境界値テスト
    * 複数の入力ボックス→ディシジョンテーブルテスト
    * 遷移がある→状態遷移テスト
## 3.探索的テスト
0. 概要
    * ソフトウェアの理解とテスト設計とテスト実行を同時に行うテスト方針
    * 機能テストに向いている
    * 非機能要求のテストには不向き
1. クライテリア決め
    * ソフトウェアの機能に対して、安全性や機能性に関する判定基準を決めること
2. 実行フェーズ
    * ターゲットソフトウェアを決める
    * 機能をリストアップする
    * 弱そうな機能を洗い出す
    * テストを実行する
    * 継続的にテストする（人を変える、動作環境を変える、修正後にはチェックする、重要機能に変化がないかチェックする、など）
## 4.非機能要求のテスト
1. 品質特性を評価するテスト
    * 特に重要な品質特性は、機密性、信頼性、パフォーマンス
2. パフォーマンステスト
    * 注意点
        * 定量的に期待するパフォーマンスを設定する
        * 仕様書を逸脱するテストケースを確かめる
        * 重大なバグに繋がるので定期的に実行する
    * 手順
        1. アーキテクチャバリデーション
            * 処理能力が仕様に合ってるかどうかをテスト
        2. パフォーマンスベンチマーク
            * 開発されたソフトウェアのテスト
        3. パフォーマンス回帰テスト
            * 変更時の定期チェック
        4. パフォーマンスチューニング、アクセプタンステスト
            * 最終製品のテスト
        5. 24×7パフォーマンスモニター
            * ダミーデータなどを使ったテスト
## 5.テスト運用の基本
1. テストプラン（国際基準のテンプレートがある）
    * IEEE 829
    * IEEE 29119
        * 829は更新されている
2. スケジュール
    * スケジュールソフトを使う
    * 過去の事例を利用する
    * 関連する機能の数など、定量的な情報を集める
3. テストケースの作成と管理
    * テストツール
        * Test Linkというのが無料のオープンソース
    * ログ
        * メトリックスの資料として役立つ
        * バグが出た場合に、なぜ発見できなかったのか分析できる
        * ログの項目
            * 実施日
            * 担当者
            * テスト結果
            * ビルド番号
            * 実行環境
    * メトリックス
        * バグメトリックス
            * 時間軸でバグ数の推移を追う
            * 重大なバグが減っているかどうかを調べる
            * 修正時間が減っているか確認し、減っていない場合は危険である
            * モジュールごとにバグ数を調べ、バグの多いところを分析する
        * ソースコードメトリックス
            * コード行数の推移を追う
            * 不可解な増減があれば、バグの調査に役立つ
        * 複雑度のメトリックス
            * 20以上がリスク高いらしい
            * 複雑度を測る方法は色々あって、ツールもある
        * テストのメトリックス
            * カバレッジ
            * テスト担当以外のバグ発見数
            * テストケースの数
            * テストの自動化率
        * 信頼性のメトリックス
            * MTBF（典型的な負荷の場合、高負荷の場合）
            * 信頼性成長曲線
        * ビルドのメトリックス
            * ビルド時間
            * ビルド時の問題とその原因
        * スケジュールのメトリックス
            * 当初のスケジュールとのズレ



























